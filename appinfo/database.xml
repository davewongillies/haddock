<?xml version="1.0" encoding="iso-8859-1"?>
<database>
	<name>*dbname*</name>
	<create>true</create>
	<overwrite>false</overwrite>
	<charset>utf8</charset>
	<table>
		<name>*dbprefix*haddock_settings</name>
		<declaration>
			<field>
				<name>settingname</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>255</length>
			</field>
			<field>
				<name>value</name>
				<type>clob</type>
				<default></default>
				<notnull>true</notnull>
			</field>
			<index>
				<name>settingname</name>
				<unique>true</unique>
				<field>
					<name>settingname</name>
					<sorting>ascending</sorting>
				</field>
			</index>
		</declaration>
	</table>
	<table>
		<name>*dbprefix*haddock_oauth_log</name>
		<declaration>
			<field>
				<name>olg_id</name>
				<type>integer</type>
				<default>0</default>
				<notnull>true</notnull>
				<autoincrement>1</autoincrement>
				<length>8</length>
			</field>
			<field>
				<name>olg_osr_consumer_key</name>
				<type>text</type>
				<default></default>
				<notnull>false</notnull>
				<length>64</length>
			</field>
			<field>
				<name>olg_ost_token</name>
				<type>text</type>
				<default></default>
				<notnull>false</notnull>
				<length>64</length>
			</field>
			<field>
				<name>olg_ocr_consumer_key</name>
				<type>text</type>
				<default></default>
				<notnull>false</notnull>
				<length>64</length>
			</field>
			<field>
				<name>olg_oct_token</name>
				<type>text</type>
				<default></default>
				<notnull>false</notnull>
				<length>64</length>
			</field>
			<field>
				<name>olg_usa_id_ref</name>
				<type>text</type>
				<default></default>
				<notnull>false</notnull>
				<length>64</length>
			</field>
			<field>
				<name>olg_received</name>
				<type>clob</type>
				<notnull>true</notnull>
			</field>
			<field>
				<name>olg_sent</name>
				<type>clob</type>
				<notnull>true</notnull>
			</field>
			<field>
				<name>olg_base_string</name>
				<type>clob</type>
				<notnull>true</notnull>
			</field>
			<field>
				<name>olg_notes</name>
				<type>clob</type>
				<notnull>true</notnull>
			</field>
			<field>
				<name>olg_timestamp</name>
				<type>timestamp</type>
				<default>CURRENT_TIMESTAMP</default>
				<notnull>true</notnull>
			</field>
			<field>
				<name>olg_remote_ip</name>
				<type>integer</type>
				<default></default>
				<notnull>true</notnull>
				<length>8</length>
			</field>
			<index>
				<name>olg_osr_consumer_key</name>
				<field>
					<name>olg_osr_consumer_key</name>
					<sorting>ascending</sorting>
				</field>
				<field>
					<name>olg_id</name>
					<sorting>ascending</sorting>
				</field>
			</index>
			<index>
				<name>olg_ost_token</name>
				<field>
					<name>olg_ost_token</name>
					<sorting>ascending</sorting>
				</field>
				<field>
					<name>olg_id</name>
					<sorting>ascending</sorting>
				</field>
			</index>
			<index>
				<name>olg_ocr_consumer_key</name>
				<field>
					<name>olg_ocr_consumer_key</name>
					<sorting>ascending</sorting>
				</field>
				<field>
					<name>olg_id</name>
					<sorting>ascending</sorting>
				</field>
			</index>
			<index>
				<name>olg_oct_token</name>
				<field>
					<name>olg_oct_token</name>
					<sorting>ascending</sorting>
				</field>
				<field>
					<name>olg_id</name>
					<sorting>ascending</sorting>
				</field>
			</index>
			<index>
				<name>olg_usa_id_ref</name>
				<field>
					<name>olg_usa_id_ref</name>
					<sorting>ascending</sorting>
				</field>
				<field>
					<name>olg_id</name>
					<sorting>ascending</sorting>
				</field>
			</index>
			<foreign>
				<name>olg_usa_id_ref</name>
				<match>SIMPLE</match>
				<ondelete>cascade</ondelete>
				<onupdate>cascade</onupdate>
				<field>olg_usa_id_ref</field>
				<references>
					<table>*dbprefix*users</table>
					<field>uid</field>
				</references>
			</foreign>
		</declaration>
	</table>
	<table>
		<name>*dbprefix*haddock_oauth_server_nonce</name>
		<declaration>
			<field>
				<name>osn_id</name>
				<type>integer</type>
				<default>0</default>
				<notnull>true</notnull>
				<autoincrement>1</autoincrement>
				<length>8</length>
			</field>
			<field>
				<name>osn_consumer_key</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>osn_token</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>osn_timestamp</name>
				<type>integer</type>
				<default></default>
				<notnull>true</notnull>
				<length>8</length>
			</field>
			<field>
				<name>osn_nonce</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>80</length>
			</field>
			<index>
				<name>osn_consumer_key</name>
				<unique>true</unique>
				<field>
					<name>osn_consumer_key</name>
					<sorting>ascending</sorting>
				</field>
				<field>
					<name>osn_token</name>
					<sorting>ascending</sorting>
				</field>
				<field>
					<name>osn_timestamp</name>
					<sorting>ascending</sorting>
				</field>
				<field>
					<name>osn_nonce</name>
					<sorting>ascending</sorting>
				</field>
			</index>
		</declaration>
	</table>
	<table>
		<name>*dbprefix*haddock_oauth_server_registry</name>
		<declaration>
			<field>
				<name>osr_id</name>
				<type>integer</type>
				<default>0</default>
				<notnull>true</notnull>
				<autoincrement>1</autoincrement>
				<length>8</length>
			</field>
			<field>
				<name>osr_usa_id_ref</name>
				<type>text</type>
				<default></default>
				<notnull>false</notnull>
				<length>64</length>
			</field>
			<field>
				<name>osr_consumer_key</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>osr_consumer_secret</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>osr_enabled</name>
				<type>integer</type>
				<default>1</default>
				<notnull>true</notnull>
				<length>1</length>
			</field>
			<field>
				<name>osr_status</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>16</length>
			</field>
			<field>
				<name>osr_requester_name</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>osr_requester_email</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>osr_callback_uri</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>255</length>
			</field>
			<field>
				<name>osr_application_uri</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>255</length>
			</field>
			<field>
				<name>osr_application_title</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>80</length>
			</field>
			<field>
				<name>osr_application_descr</name>
				<type>clob</type>
				<notnull>true</notnull>
			</field>
			<field>
				<name>osr_application_notes</name>
				<type>clob</type>
				<notnull>true</notnull>
			</field>
			<field>
				<name>osr_application_type</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>20</length>
			</field>
			<field>
				<name>osr_application_commercial</name>
				<type>integer</type>
				<default>0</default>
				<notnull>true</notnull>
				<length>1</length>
			</field>
			<field>
				<name>osr_issue_date</name>
				<type>timestamp</type>
				<default>0000-00-00 00:00:00</default>
				<notnull>true</notnull>
			</field>
			<field>
				<name>osr_timestamp</name>
				<type>timestamp</type>
				<default>CURRENT_TIMESTAMP</default>
				<notnull>true</notnull>
			</field>
			<index>
				<name>osr_usa_id_ref</name>
				<field>
					<name>osr_usa_id_ref</name>
					<sorting>ascending</sorting>
				</field>
			</index>
			<index>
				<name>osr_consumer_key</name>
				<unique>true</unique>
				<field>
					<name>osr_consumer_key</name>
					<sorting>ascending</sorting>
				</field>
			</index>
			<foreign>
				<name>osr_usa_id_ref</name>
				<match>SIMPLE</match>
				<ondelete>set null</ondelete>
				<onupdate>cascade</onupdate>
				<field>osr_usa_id_ref</field>
				<references>
					<table>*dbprefix*users</table>
					<field>uid</field>
				</references>
			</foreign>
		</declaration>
	</table>
	<table>
		<name>*dbprefix*haddock_oauth_server_token</name>
		<declaration>
			<field>
				<name>ost_id</name>
				<type>integer</type>
				<default>0</default>
				<notnull>true</notnull>
				<autoincrement>1</autoincrement>
				<length>8</length>
			</field>
			<field>
				<name>ost_osr_id_ref</name>
				<type>integer</type>
				<default></default>
				<notnull>true</notnull>
				<length>8</length>
			</field>
			<field>
				<name>ost_usa_id_ref</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>ost_token</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>ost_token_secret</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>64</length>
			</field>
			<field>
				<name>ost_token_type</name>
				<type>text</type>
				<default></default>
				<notnull>false</notnull>
				<length>7</length>
			</field>
			<field>
				<name>ost_authorized</name>
				<type>integer</type>
				<default>0</default>
				<notnull>true</notnull>
				<length>1</length>
			</field>
			<field>
				<name>ost_referrer_host</name>
				<type>text</type>
				<default></default>
				<notnull>true</notnull>
				<length>128</length>
			</field>
			<field>
				<name>ost_token_ttl</name>
				<type>timestamp</type>
				<default>9999-12-31 00:00:00</default>
				<notnull>true</notnull>
			</field>
			<field>
				<name>ost_timestamp</name>
				<type>timestamp</type>
				<default>CURRENT_TIMESTAMP</default>
				<notnull>true</notnull>
			</field>
			<field>
				<name>ost_verifier</name>
				<type>text</type>
				<fixed>true</fixed>
				<default></default>
				<notnull>false</notnull>
				<length>10</length>
			</field>
			<field>
				<name>ost_callback_url</name>
				<type>text</type>
				<default></default>
				<notnull>false</notnull>
				<length>512</length>
			</field>
			<index>
				<name>ost_osr_id_ref</name>
				<field>
					<name>ost_osr_id_ref</name>
					<sorting>ascending</sorting>
				</field>
			</index>
			<index>
				<name>ost_token_ttl</name>
				<field>
					<name>ost_token_ttl</name>
					<sorting>ascending</sorting>
				</field>
			</index>
			<index>
				<name>ost_token</name>
				<unique>true</unique>
				<field>
					<name>ost_token</name>
					<sorting>ascending</sorting>
				</field>
			</index>
			<foreign>
				<name>oauth_server_token_ibfk_1</name>
				<match>SIMPLE</match>
				<ondelete>NO ACTION</ondelete>
				<onupdate>NO ACTION</onupdate>
				<field>ost_osr_id_ref</field>
				<references>
					<table>oauth_server_registry</table>
					<field>osr_id</field>
				</references>
			</foreign>
			<foreign>
				<name>ost_usa_id_ref</name>
				<match>SIMPLE</match>
				<ondelete>cascade</ondelete>
				<onupdate>cascade</onupdate>
				<field>ost_usa_id_ref</field>
				<references>
					<table>*dbprefix*users</table>
					<field>uid</field>
				</references>
			</foreign>
		</declaration>
	</table>
	<table>
		<name>*dbprefix*haddock_notes</name>
		<declaration>
			<field>
				<name>uid</name>
				<type>integer</type>
				<length>8</length>
				<notnull>true</notnull>
				<autoincrement></autoincrement>
			</field>
			<field>
				<name>user_id</name>
				<type>text</type>
				<length>64</length>
				<notnull>true</notnull>
			</field>
			<field>
				<name>guid</name>
				<type>text</type>
				<length>36</length>
				<notnull>true</notnull>
			</field>
			<field>
				<name>title</name>
				<type>text</type>
				<length>255</length>
				<notnull>true</notnull>
			</field>
			<field>
				<name>note-content</name>
				<type>clob</type>
				<default></default>
			</field>
			<field>
				<name>note-content-version</name>
				<type>float</type>
				<default>0.0</default>
				<notnull>true</notnull>
			</field>
			<field>
				<name>last-change-date</name>
				<type>timestamp</type>
				<default>0000-00-00 00:00:00</default>
				<notnull>true</notnull>
			</field>
			<field>
				<name>last-metadata-change-date</name>
				<type>timestamp</type>
				<default>0000-00-00 00:00:00</default>
				<notnull>true</notnull>
			</field>
			<field>
				<name>created-date</name>
				<type>timestamp</type>
				<default>CURRENT_TIMESTAMP</default>
				<notnull>true</notnull>
			</field>
			<field>
				<name>open-on-startup</name>
				<type>integer</type>
				<default>0</default>
				<length>1</length>
				<notnull>true</notnull>
			</field>
			<field>
				<name>pinned</name>
				<type>integer</type>
				<default>0</default>
				<length>1</length>
				<notnull>true</notnull>
			</field>
			<index>
				<name>uid</name>
				<primary>true</primary>
				<unique>true</unique>
				<field>
					<name>uid</name>
					<sorting>ascending</sorting>
				</field>
			</index>
			<index>
				<name>user_and_guid</name>
				<unique>true</unique>
				<field>
					<name>user_id</name>
					<sorting>ascending</sorting>
				</field>
				<field>
					<name>guid</name>
					<sorting>ascending</sorting>
				</field>
			</index>
			<foreign>
				<name>user_id</name>
				<match>SIMPLE</match>
				<ondelete>cascade</ondelete>
				<onupdate>cascade</onupdate>
				<field>user_id</field>
				<references>
					<table>*dbprefix*users</table>
					<field>uid</field>
				</references>
			</foreign>
		</declaration>
	</table>
	<table>
		<name>*dbprefix*haddock_notes_tags</name>
		<declaration>
			<field>
				<name>uid</name>
				<type>integer</type>
				<length>8</length>
				<notnull>true</notnull>
			</field>
			<field>
				<name>tag</name>
				<type>text</type>
				<length>255</length>
				<notnull>true</notnull>
			</field>
			<index>
				<name>uid_and_tag</name>
				<unique>true</unique>
				<field>
					<name>uid</name>
					<sorting>ascending</sorting>
				</field>
				<field>
					<name>tag</name>
					<sorting>ascending</sorting>
				</field>
			</index>
			<foreign>
				<name>uid</name>
				<match>SIMPLE</match>
				<ondelete>cascade</ondelete>
				<onupdate>cascade</onupdate>
				<field>uid</field>
				<references>
					<table>*dbprefix*haddock_notes</table>
					<field>uid</field>
				</references>
			</foreign>
		</declaration>
	</table>
</database>
